<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–‡å­—æç¤ºè¯ | Gem Nana AI æç¤ºè¯åº“</title>
    <meta name="description" content="æ–‡å­—æç¤ºè¯å³å°†ä¸Šçº¿">
    <link rel="stylesheet" href="../assets/style.css?v=1762779177975">

    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "name": "æ–‡å­—æç¤ºè¯ | Gem Nana AI æç¤ºè¯åº“",
  "description": "æ–‡å­—æç¤ºè¯å³å°†ä¸Šçº¿",
  "url": "https://gemnana.com/text/",
  "inLanguage": "zh-CN",
  "isPartOf": {
    "@type": "WebSite",
    "name": "Gem Nana AI æç¤ºè¯åº“",
    "url": "https://gemnana.com/"
  },
  "breadcrumb": {
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "é¦–é¡µ",
        "item": "https://gemnana.com/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "æ–‡å­—æç¤ºè¯",
        "item": "https://gemnana.com/text/"
      }
    ]
  }
}
    </script>
</head>
<body class="layout-sidebar">
    
    <aside class="sidebar">
        <div class="sidebar-header">
            <h1 class="logo">ğŸ“š Gem Nana</h1>
            <p class="tagline">AI æç¤ºè¯æ”¶è—åº“</p>
        </div>

        <nav class="sidebar-nav">
            <a href="../index.html" class="nav-item ">
                <span class="nav-icon">ğŸ </span>
                <span class="nav-text">é¦–é¡µ</span>
                <span class="nav-count">530</span>
            </a>
            <a href="../image/index.html" class="nav-item ">
                <span class="nav-icon">ğŸ“¸</span>
                <span class="nav-text">å›¾ç‰‡ç”Ÿæˆ</span>
                <span class="nav-count">527</span>
            </a>
            <a href="../video/index.html" class="nav-item ">
                <span class="nav-icon">ğŸ¬</span>
                <span class="nav-text">è§†é¢‘ç”Ÿæˆ</span>
                <span class="nav-count">3</span>
            </a>
            <a href="#" class="nav-item active">
                <span class="nav-icon">ğŸ’¬</span>
                <span class="nav-text">æ–‡å­—æç¤ºè¯</span>
                <span class="nav-count">0</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <p>Â© 2025 Gem Nana</p>
        </div>
    </aside>

    <main class="main-content">
        
        <div class="page-header">
            <h1>ğŸ’¬ æ–‡å­—æç¤ºè¯</h1>
            <p>å³å°†ä¸Šçº¿ï¼Œæ•¬è¯·æœŸå¾…</p>
        </div>

        <div class="coming-soon">
            <div class="coming-soon-icon">ğŸš§</div>
            <h2>å†…å®¹ç­¹å¤‡ä¸­</h2>
            <p>æˆ‘ä»¬æ­£åœ¨æ”¶é›†å’Œæ•´ç†ä¼˜è´¨çš„ AI å¯¹è¯æç¤ºè¯</p>
            <p>åŒ…æ‹¬ ChatGPTã€Claudeã€Gemini ç­‰å·¥å…·çš„é«˜çº§ç”¨æ³•</p>
        </div>
    
    </main>

    
    <!-- è¯¦æƒ…æ¨¡æ€æ¡† -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div id="modalBody"></div>
        </div>
    </div>
    
    <script>
    // é¡µé¢æ•°æ®
    const pageItems = [];

    // DOMå…ƒç´ 
    const modal = document.getElementById('modal');
    const modalBody = document.getElementById('modalBody');
    const modalClose = document.querySelector('.modal-close');

    // HTMLè½¬ä¹‰
    function escapeHtml(text) {
        if (!text) return '';
        const map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#039;'
        };
        return text.toString().replace(/[&<>"']/g, m => map[m]);
    }

    // æ˜¾ç¤ºè¯¦æƒ…å¼¹çª—
    function showModal(id) {
        const item = pageItems.find(i => i.id === id);
        if (!item) return;

        let html = `
            <h2 class="modal-title">${escapeHtml(item.title)}</h2>
            <div class="modal-meta">
                <span>ğŸ“… ${item.date || ''}</span>
                ${item.url ? `<a href="${item.url}" target="_blank" class="modal-source-link">ğŸ”— ${item.source || 'æŸ¥çœ‹åŸæ–‡'}</a>` : `<span>ğŸ”— ${item.source || ''}</span>`}
            </div>
        `;

        // æ ‡ç­¾ï¼ˆç§»åˆ°æ‘˜è¦ä¸Šé¢ï¼‰
        if (item.tags && item.tags.length > 0) {
            html += '<div class="modal-section"><h3>ğŸ·ï¸ æ ‡ç­¾</h3><div class="modal-tags">';
            item.tags.forEach(tag => {
                html += `<span class="tag">${tag}</span>`;
            });
            html += '</div></div>';
        }

        // æ‘˜è¦
        if (item.summary) {
            html += `
                <div class="modal-section">
                    <h3>ğŸ“ å†…å®¹æ‘˜è¦</h3>
                    <p class="modal-summary">${escapeHtml(item.summary)}</p>
                </div>
            `;
        }

        // å›¾ç‰‡
        if (item.images && item.images.length > 0) {
            html += '<div class="modal-section"><h3>ğŸ“¸ å›¾ç‰‡</h3><div class="modal-images">';
            item.images.forEach(img => {
                const imgPath = '../' + img;
                html += `<img src="${imgPath}" alt="${escapeHtml(item.title)}" loading="lazy">`;
            });
            html += '</div></div>';
        }

        // è§†é¢‘
        if (item.videos && item.videos.length > 0) {
            html += '<div class="modal-section"><h3>ğŸ¬ è§†é¢‘</h3><div class="modal-videos">';
            item.videos.forEach(video => {
                const videoPath = '../' + video;
                html += `<video controls><source src="${videoPath}" type="video/mp4"></video>`;
            });
            html += '</div></div>';
        }

        // ä¸­æ–‡æç¤ºè¯
        if (item.contentChinese) {
            html += `
                <div class="modal-section">
                    <h3>ğŸ‡¨ğŸ‡³ ä¸­æ–‡æç¤ºè¯
                        <button class="copy-btn" onclick="copyText('chinese')">ğŸ“‹ å¤åˆ¶</button>
                    </h3>
                    <div class="modal-content-text" id="text-chinese">${escapeHtml(item.contentChinese)}</div>
                </div>
            `;
        }

        // è‹±æ–‡æç¤ºè¯
        if (item.contentEnglish) {
            html += `
                <div class="modal-section">
                    <h3>ğŸ‡¬ğŸ‡§ è‹±æ–‡æç¤ºè¯
                        <button class="copy-btn" onclick="copyText('english')">ğŸ“‹ å¤åˆ¶</button>
                    </h3>
                    <div class="modal-content-text" id="text-english">${escapeHtml(item.contentEnglish)}</div>
                </div>
            `;
        }

        // é€šç”¨å†…å®¹
        if (item.content) {
            html += `
                <div class="modal-section">
                    <h3>ğŸ“ å†…å®¹
                        <button class="copy-btn" onclick="copyText('content')">ğŸ“‹ å¤åˆ¶</button>
                    </h3>
                    <div class="modal-content-text" id="text-content">${escapeHtml(item.content)}</div>
                </div>
            `;
        }

        modalBody.innerHTML = html;
        modal.style.display = 'block';
    }

    // å¤åˆ¶æ–‡æœ¬
    function copyText(type) {
        const element = document.getElementById('text-' + type);
        if (!element) return;

        const text = element.textContent;
        navigator.clipboard.writeText(text).then(() => {
            alert('âœ… å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
        }).catch(err => {
            console.error('å¤åˆ¶å¤±è´¥:', err);
        });
    }

    // å…³é—­æ¨¡æ€æ¡†
    modalClose.addEventListener('click', () => {
        modal.style.display = 'none';
    });

    window.addEventListener('click', (e) => {
        if (e.target === modal) {
            modal.style.display = 'none';
        }
    });

    // æ£€æŸ¥æ˜¯å¦ä¸ºæœ¬åœ°è®¿é—®
    function checkLocalAccess() {
        const hostname = window.location.hostname;
        return hostname === 'localhost' || hostname === '127.0.0.1' || hostname === '';
    }

    // åˆ é™¤å†…å®¹
    async function deleteContent(id) {
        const item = pageItems.find(i => i.id === id);
        if (!item) {
            alert('æœªæ‰¾åˆ°è¯¥å†…å®¹');
            return;
        }

        // äºŒæ¬¡ç¡®è®¤
        if (!confirm(`ç¡®å®šè¦åˆ é™¤è¿™æ¡å†…å®¹å—ï¼Ÿ\n\næ ‡é¢˜ï¼š${item.title}\n\nåˆ é™¤åæ— æ³•æ¢å¤ï¼`)) {
            return;
        }

        try {
            const response = await fetch('/api/delete-content', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ id })
            });

            const result = await response.json();

            if (result.success) {
                // åˆ é™¤æˆåŠŸï¼Œç›´æ¥åˆ·æ–°é¡µé¢
                location.reload();
            } else {
                alert('âŒ åˆ é™¤å¤±è´¥ï¼š' + result.error);
            }
        } catch (error) {
            alert('âŒ åˆ é™¤å¤±è´¥ï¼š' + error.message);
        }
    }

    // æœç´¢å’Œç­›é€‰åŠŸèƒ½
    let selectedTags = new Set();

    function filterContent() {
        const searchInput = document.getElementById('searchInput');
        const statsText = document.getElementById('statsText');
        const caseGrid = document.getElementById('caseGrid');

        if (!searchInput || !caseGrid) return; // å¦‚æœæ²¡æœ‰æœç´¢æ¡†ï¼Œç›´æ¥è¿”å›

        const searchTerm = searchInput.value.toLowerCase().trim();
        let filteredItems = pageItems;

        // æ ‡ç­¾ç­›é€‰
        if (selectedTags.size > 0) {
            filteredItems = filteredItems.filter(item => {
                return item.tags && item.tags.some(tag => selectedTags.has(tag));
            });
        }

        // æœç´¢ç­›é€‰
        if (searchTerm) {
            filteredItems = filteredItems.filter(item => {
                const searchableText = [
                    item.title || '',
                    item.summary || '',
                    item.content || '',
                    item.source || '',
                    ...(item.tags || [])
                ].join(' ').toLowerCase();
                return searchableText.includes(searchTerm);
            });
        }

        // é‡æ–°æ¸²æŸ“å¡ç‰‡
        renderCards(filteredItems);

        // æ›´æ–°ç»Ÿè®¡
        if (statsText) {
            if (selectedTags.size > 0 || searchTerm) {
                statsText.textContent = `æ˜¾ç¤º ${filteredItems.length} / ${pageItems.length} æ¡å†…å®¹`;
            } else {
                statsText.textContent = `å…± ${pageItems.length} æ¡å†…å®¹`;
            }
        }
    }

    function renderCards(items) {
        const caseGrid = document.getElementById('caseGrid');
        if (!caseGrid) return;

        if (items.length === 0) {
            caseGrid.innerHTML = '<div class="no-results">ğŸ˜• æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å†…å®¹</div>';
            return;
        }

        caseGrid.innerHTML = items.map(item => {
            const tags = item.tags ? item.tags.map(t => `<span class="tag">${t}</span>`).join('') : '';

            // ç¼©ç•¥å›¾ï¼šä¼˜å…ˆæ˜¾ç¤ºå›¾ç‰‡ï¼Œå…¶æ¬¡æ˜¾ç¤ºè§†é¢‘ï¼Œæœ€åæ˜¾ç¤ºé»˜è®¤å›¾æ ‡
            let thumbnail;
            if (item.images && item.images[0]) {
                thumbnail = `<img src="${item.images[0]}" alt="${escapeHtml(item.title)}" loading="lazy">`;
            } else if (item.videos && item.videos[0]) {
                thumbnail = `<video style="width:100%; height:100%; object-fit: cover;" muted playsinline webkit-playsinline autoplay loop preload="metadata">
                    <source src="${item.videos[0]}" type="video/mp4">
                    æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾
                </video>`;
            } else {
                thumbnail = `<div class="no-image">ğŸ“¸</div>`;
            }

            const summary = item.summary ? escapeHtml(item.summary) : '';

            return `
                <div class="case-card" data-id="${item.id}">
                    <button class="delete-btn" data-id="${item.id}" title="åˆ é™¤è¿™æ¡å†…å®¹" style="display:none;">ğŸ—‘ï¸</button>
                    <div class="case-thumbnail">${thumbnail}</div>
                    <div class="case-info">
                        <h3 class="case-title">${item.caseNumber}: ${escapeHtml(item.title)}</h3>
                        ${summary ? `<p class="case-summary">${summary}</p>` : ''}
                        <div class="case-meta">
                            <span class="case-date">${item.date || ''}</span>
                            <span class="case-source">${item.source || ''}</span>
                        </div>
                        <div class="case-tags">${tags}</div>
                    </div>
                </div>`;
        }).join('');

        // é‡æ–°ç»‘å®šäº‹ä»¶
        bindCardEvents();
    }

    function bindCardEvents() {
        const isLocalAccess = checkLocalAccess();

        // å¦‚æœæ˜¯æœ¬åœ°è®¿é—®ï¼Œæ˜¾ç¤ºåˆ é™¤æŒ‰é’®
        if (isLocalAccess) {
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.style.display = 'block';
            });
        }

        // ç»‘å®šå¡ç‰‡ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.case-card').forEach(card => {
            card.addEventListener('click', (e) => {
                if (e.target.classList.contains('delete-btn') || e.target.closest('.delete-btn')) {
                    return;
                }
                const id = parseInt(card.getAttribute('data-id'));
                showModal(id);
            });
        });

        // ç»‘å®šåˆ é™¤æŒ‰é’®äº‹ä»¶
        if (isLocalAccess) {
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const id = parseInt(btn.getAttribute('data-id'));
                    deleteContent(id);
                });
            });
        }
    }

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', () => {
        bindCardEvents();

        // æœç´¢åŠŸèƒ½
        const searchInput = document.getElementById('searchInput');
        if (searchInput) {
            searchInput.addEventListener('input', filterContent);
        }

        // æ ‡ç­¾ç­›é€‰
        const tagFilters = document.getElementById('tagFilters');
        if (tagFilters) {
            tagFilters.addEventListener('click', (e) => {
                if (e.target.classList.contains('tag-filter')) {
                    const tag = e.target.dataset.tag;
                    e.target.classList.toggle('active');

                    if (selectedTags.has(tag)) {
                        selectedTags.delete(tag);
                    } else {
                        selectedTags.add(tag);
                    }

                    filterContent();
                }
            });
        }

        // æ¸…é™¤ç­›é€‰
        const clearFilters = document.getElementById('clearFilters');
        if (clearFilters) {
            clearFilters.addEventListener('click', () => {
                selectedTags.clear();
                if (searchInput) searchInput.value = '';
                document.querySelectorAll('.tag-filter.active').forEach(btn => {
                    btn.classList.remove('active');
                });
                filterContent();
            });
        }
    });
    </script>
    
</body>
</html>